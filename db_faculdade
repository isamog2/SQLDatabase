-- Criar o banco de dados para a faculdade
CREATE DATABASE IF NOT EXISTS db_faculdade;
USE db_faculdade;

-- Tabela: tbl_curso
CREATE TABLE IF NOT EXISTS tbl_curso (
    id INT PRIMARY KEY AUTO_INCREMENT,
    nome_curso VARCHAR(100),
    carga_horaria_total INT
);

-- Tabela: tbl_professor
CREATE TABLE IF NOT EXISTS tbl_professor (
    id INT PRIMARY KEY AUTO_INCREMENT,
    nome_completo VARCHAR(100),
    cpf VARCHAR(14),
    especializacao VARCHAR(50)
);

-- Tabela: tbl_disciplina
CREATE TABLE IF NOT EXISTS tbl_disciplina (
    id INT PRIMARY KEY AUTO_INCREMENT,
    nome_disciplina VARCHAR(100),
    carga_horaria INT,
    curso_id INT,
    professor_id INT,
    FOREIGN KEY (curso_id) REFERENCES tbl_curso(id),
    FOREIGN KEY (professor_id) REFERENCES tbl_professor(id)
);

-- Tabela: tbl_aluno
CREATE TABLE IF NOT EXISTS tbl_aluno (
    id INT PRIMARY KEY AUTO_INCREMENT,
    nome_completo VARCHAR(100),
    cpf VARCHAR(14),
    matricula VARCHAR(20),
    curso_id INT,
    FOREIGN KEY (curso_id) REFERENCES tbl_curso(id)
);

-- Tabela: tbl_turma
CREATE TABLE IF NOT EXISTS tbl_turma (
    id INT PRIMARY KEY AUTO_INCREMENT,
    disciplina_id INT,
    professor_id INT,
    aluno_id INT,
    FOREIGN KEY (disciplina_id) REFERENCES tbl_disciplina(id),
    FOREIGN KEY (professor_id) REFERENCES tbl_professor(id),
    FOREIGN KEY (aluno_id) REFERENCES tbl_aluno(id)
);

-- Tabela: tbl_nota
CREATE TABLE IF NOT EXISTS tbl_nota (
    id INT PRIMARY KEY AUTO_INCREMENT,
    turma_id INT,
    aluno_id INT,
    nota DECIMAL(5, 2),
    FOREIGN KEY (turma_id) REFERENCES tbl_turma(id),
    FOREIGN KEY (aluno_id) REFERENCES tbl_aluno(id)
);
